<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge"/>
    <title></title>
</head>
<body>
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        &times;
    </button>
    <h4 class="modal-title" id="myModalLabel"><i class="fa fa-edit"></i> 采购单</h4>
</div>

<div class="modal-body no-padding">
    <form id="form" class="smart-form">
        <fieldset>
            <section>
                <div class="table-responsive">
                    <table class="table" id="productTarget">
                        <thead>
                        <tr>
                            <th>供应商</th>
                            <th>采购单价</th>
                            <th>物品名称</th>
                            <th>规格</th>
                            <th>单位</th>
                            <th>采购数量</th>
                            <th>总数量</th>
                            <th>总价</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="item,i:${purchasingOrder.items}">
                            <td><label class='input'><input th:name='${"items[" + i.index + "].supplier"}' th:value="${item.supplierName}" disabled='disabled' /></label></td>
                            <td><label class='input'><input th:name='${"items[" + i.index + "].price"}' th:value="${item.price}" disabled='disabled' /></label></td>
                            <td><label class='input'>
                                <input name='name' disabled='disabled' th:value="${item.goods.name}" /></label>
                            </td>
                            <td><label class='input'><input name='spec' th:value="${item.spec}" disabled='disabled' /></label></td>
                            <td><label class='input'><input th:name='${"items[" + i.index + "].unit"}' th:value="${item.unit}" disabled='disabled' /></label></td>
                            <td><label class='input'><input th:name='${"items[" + i.index + "].count"}' th:value="${item.count}" class='number' disabled='disabled' /></label></td>
                            <td><label class='input'><input th:name='${"items[" + i.index + "].ammount"}' th:value="${item.ammount}" class='number' disabled='disabled' /></label></td>
                            <td><label class='input'><input th:name='${"items[" + i.index + "].totalPrice"}' th:value="${item.ammount*item.price}" disabled='disabled' /></label></td>
                        </tr>
                        <tr><td colspan="7" class="text-right">合计： </td><td class="text-right"><label class='input'><input name='sum' disabled='disabled' th:value="${totalPrice}" /></label></td></tr>
                        </tbody>
                    </table>

                </div>
            </section>
        </fieldset>
        <fieldset>
            <section>
                <label class="textarea textarea-resizable">
                                        <textarea class="custom-scroll" id="purpose" name="purpose"
                                                  placeholder="用途" disabled='disabled'>[[${purchasingOrder.purpose}]]</textarea>
                </label>
            </section>
        </fieldset>
        <footer>
            <button type="button" class="btn btn-danger" data-dismiss="modal">
                关 闭
            </button>
        </footer>
    </form>
</div>
<script>
    pageSetUp();
</script>
</body>
</html>